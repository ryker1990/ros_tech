{"version":3,"sources":["../lib/RelayController.js"],"names":["_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Constructor","protoProps","staticProps","prototype","_events","require","_events2","_interopRequireDefault","_i2cBus","_i2cBus2","_Config","_Config2","_child_process","_child_process2","obj","__esModule","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","value","setPrototypeOf","__proto__","RelayController","_EventEmitter","this","_this","getPrototypeOf","address","i2c","openSync","timeout","start","bind","writeState","readState","configure","setRelays","stopHeatPlates","startTopHeatPlate","startBottomHeatPlate","stopTopHeatPlate","stopBottomHeatPlate","closePress","startPress","openPress","console","log","output","execSync","toString","_this2","then","state","parseState","_this3","Promise","resolve","reject","writeByte","err","_this4","_this5","readByte","res","relays","relayState","_this6","debug","arguments","undefined","count","initialState","updatedState","catch","i2cDebug","_this7","config","pressType","clearTimeout","setTimeout","travelTime","time","_this8","_this9","stateArray","module","exports"],"mappings":"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","file":"RelayController.js"}